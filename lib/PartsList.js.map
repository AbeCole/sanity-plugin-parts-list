{"version":3,"sources":["../src/PartsList.js"],"names":["PartsList","React","Component","constructor","props","section","state","activeSections","includes","setState","filter","s","e","search","target","value","render","console","log","Array","isArray","tools","forEach","tool","title","searchCriteria","toLowerCase","container","handleSearchChange","input","button","toggleActiveSection","partList","Object","keys","definitions","p","path","map","partName","partListItem","itemTitle","content","plugin","isAbstract","description","implementations","find","i","implementation","plugins","name","part","length","itemSubTitle"],"mappings":"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","sourcesContent":["import React from 'react'\n\nimport tools from 'sanity:debug'\n\nimport s from './PartsList.css'\n\nclass PartsList extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      activeSections: ['definitions', 'implementations', 'plugins'],\n      search: '',\n    }\n  }\n\n  toggleActiveSection = (section) => {\n    if (this.state.activeSections.includes(section)) {\n      this.setState({\n        activeSections: [\n          ...this.state.activeSections.filter((s) => s !== section),\n        ],\n      })\n    } else {\n      this.setState({ activeSections: [...this.state.activeSections, section] })\n    }\n  }\n\n  handleSearchChange = (e) => {\n    this.setState({ search: e.target.value })\n  }\n\n  render() {\n    const { activeSections, search } = this.state\n\n    console.log('App render')\n    if (Array.isArray(tools)) {\n      tools.forEach(function (tool) {\n        console.log(tool.title, tool)\n      })\n    } else {\n      console.log('tools is not an Array', tools)\n    }\n\n    const searchCriteria = search === '' ? null : search.toLowerCase()\n\n    return (\n      <div className={s.container}>\n        <h1 className={s.title}>Parts list</h1>\n        <p>\n          This page displays a basic output of currently available Sanity.io parts, these have\n          been retrieved using the 'sanity:debug' part. The raw data object has been\n          logged to the developer console for further examination.\n        </p>\n        <p>These parts are divided into 3 sections: Definitions, Implementations and Plugins. You can hide a section by clicking the heading.</p>\n        <input\n          type=\"text\"\n          placeholder=\"Search part name or path...\"\n          value={search}\n          onChange={this.handleSearchChange}\n          className={s.input}\n        />\n        <button\n          type=\"button\"\n          className={s.button}\n          onClick={() => this.toggleActiveSection('definitions')}\n        >\n          Definitions\n        </button>\n        {activeSections.includes('definitions') && (\n          <ul className={s.partList}>\n            {Object.keys(tools.definitions)\n              .filter(\n                (p) =>\n                  !searchCriteria ||\n                  p.includes(searchCriteria) ||\n                  tools.definitions[p].path.includes(searchCriteria)\n              )\n              .map((partName) => (\n                <li key={partName} className={s.partListItem}>\n                  <h3 className={s.itemTitle}>{partName}</h3>\n                  <div className={s.content}>\n                    <p>\n                      <strong>Plugin</strong> {tools.definitions[partName].plugin}\n                      <br />\n                      <strong>Path</strong> {tools.definitions[partName].path}\n                      {tools.definitions[partName].isAbstract && (\n                        <>\n                          <br />\n                          <strong>Abstract</strong>\n                        </>\n                      )}\n                    </p>\n                    {tools.definitions[partName].description && (\n                      <p className={s.description}>\n                        {tools.definitions[partName].description}\n                      </p>\n                    )}\n                  </div>\n                </li>\n              ))}\n          </ul>\n        )}\n        <button\n          type=\"button\"\n          className={s.button}\n          onClick={() => this.toggleActiveSection('implementations')}\n        >\n          Implementations\n        </button>\n        {activeSections.includes('implementations') && (\n          <ul className={s.partList}>\n            {Object.keys(tools.implementations)\n              .filter(\n                (p) =>\n                  !searchCriteria ||\n                  p.includes(searchCriteria) ||\n                  tools.implementations[p].find(i => i.path.includes(searchCriteria))\n              ).map((partName) => (\n              <li key={partName} className={s.partListItem}>\n                <h3 className={s.itemTitle}>{partName}</h3>\n                <ul className={s.implementations}>\n                  {tools.implementations[partName].map((implementation) => (\n                    <li key={implementation.path}>\n                      <strong>{implementation.plugin}</strong>{' '}\n                      {implementation.path}\n                    </li>\n                  ))}\n                </ul>\n              </li>\n            ))}\n          </ul>\n        )}\n        <button\n          type=\"button\"\n          className={s.button}\n          onClick={() => this.toggleActiveSection('plugins')}\n        >\n          Plugins\n        </button>\n        {activeSections.includes('plugins') && (\n          <ul className={s.partList}>\n            {tools.plugins.filter(\n                (p) =>\n                  !searchCriteria ||\n                  p.name.includes(searchCriteria) ||\n                  p.path.includes(searchCriteria)\n              ).map((part) => (\n              <li key={part.name} className={s.partListItem}>\n                <h3 className={s.itemTitle}>{part.name}</h3>\n                <div className={s.content}>\n                  {part.path}\n                  {part.plugins.length > 0 && (\n                    <>\n                      <p className={s.itemSubTitle}>Plugins</p>\n                      <ul className={s.implementations}>\n                        {part.plugins.map((implementation) => (\n                          <li key={implementation.path}>\n                            <strong>{implementation.name}</strong>{' '}\n                            {implementation.path}\n                          </li>\n                        ))}\n                      </ul>\n                    </>\n                  )}\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default PartsList\n"],"file":"PartsList.js"}